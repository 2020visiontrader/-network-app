<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Android Setup for NetworkFounderApp</title>
  <style>
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
      background-color: #1f2937;
      color: white;
      margin: 0;
      padding: 20px;
      line-height: 1.6;
    }
    .container {
      max-width: 800px;
      margin: 0 auto;
    }
    h1 {
      color: #7d58ff;
      font-size: 28px;
      margin-bottom: 10px;
    }
    h2 {
      color: #7d58ff;
      font-size: 22px;
      margin-top: 30px;
      margin-bottom: 10px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      padding-bottom: 5px;
    }
    h3 {
      color: #7d58ff;
      font-size: 18px;
      margin-top: 20px;
    }
    a {
      color: #7d58ff;
      text-decoration: none;
    }
    a:hover {
      text-decoration: underline;
    }
    code {
      background-color: rgba(255, 255, 255, 0.1);
      padding: 2px 5px;
      border-radius: 3px;
      font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace;
    }
    pre {
      background-color: rgba(0, 0, 0, 0.3);
      padding: 15px;
      border-radius: 5px;
      overflow-x: auto;
      font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace;
    }
    .card {
      background-color: rgba(255, 255, 255, 0.05);
      border-radius: 8px;
      padding: 20px;
      margin-bottom: 20px;
    }
    .alert {
      background-color: rgba(255, 193, 7, 0.1);
      border-left: 4px solid #ffc107;
      padding: 15px;
      margin-bottom: 20px;
      border-radius: 4px;
    }
    .success {
      background-color: rgba(40, 167, 69, 0.1);
      border-left: 4px solid #28a745;
      padding: 15px;
      margin-bottom: 20px;
      border-radius: 4px;
    }
    .error {
      background-color: rgba(220, 53, 69, 0.1);
      border-left: 4px solid #dc3545;
      padding: 15px;
      margin-bottom: 20px;
      border-radius: 4px;
    }
    .steps {
      counter-reset: step;
      list-style-type: none;
      padding-left: 0;
    }
    .steps li {
      position: relative;
      padding-left: 40px;
      margin-bottom: 15px;
    }
    .steps li:before {
      content: counter(step);
      counter-increment: step;
      width: 25px;
      height: 25px;
      border-radius: 50%;
      background-color: #7d58ff;
      color: white;
      text-align: center;
      position: absolute;
      left: 0;
      top: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
    }
    .button {
      display: inline-block;
      background-color: #7d58ff;
      color: white;
      padding: 10px 20px;
      border-radius: 5px;
      margin-top: 10px;
      font-weight: bold;
      cursor: pointer;
      text-decoration: none;
    }
    .button:hover {
      background-color: #6a4cd6;
      text-decoration: none;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Android Setup for NetworkFounderApp</h1>
    
    <div class="card">
      <h2>Common Error: No Android Device Found</h2>
      <div class="error">
        <strong>Error:</strong> CommandError: No Android connected device found, and no emulators could be started automatically.
      </div>
      <p>This error occurs when Expo can't find a connected Android device or running emulator. Follow the steps below to resolve this issue.</p>
    </div>

    <h2>Quick Solutions</h2>
    
    <div class="card">
      <h3>Option 1: Run the Setup Helper</h3>
      <p>We've created a helper script that will check your environment, install missing components, and start an emulator:</p>
      <pre>./android-setup.sh</pre>
      <p>This script will:</p>
      <ul>
        <li>Check for Android Studio installation</li>
        <li>Verify Android SDK is installed</li>
        <li>Check for available emulators</li>
        <li>Guide you through installing any missing components</li>
        <li>Start an emulator</li>
        <li>Launch your Expo app</li>
      </ul>
      <a href="#" class="button" onclick="copyToClipboard('./android-setup.sh'); return false;">Copy Command</a>
    </div>

    <div class="card">
      <h3>Option 2: Connect a Physical Device</h3>
      <p>If you prefer using a physical Android device:</p>
      <ol class="steps">
        <li>Enable Developer Options on your device (tap Build Number 7 times in About Phone)</li>
        <li>Enable USB Debugging in Developer Options</li>
        <li>Connect your device to your Mac with a USB cable</li>
        <li>Accept the debugging permission prompt on your device</li>
        <li>Run <code>npx expo start</code> and press 'a'</li>
      </ol>
      <p>See <a href="ANDROID_DEVICE_SETUP.md">ANDROID_DEVICE_SETUP.md</a> for detailed instructions.</p>
    </div>

    <h2>Manual Setup Instructions</h2>

    <div class="card">
      <h3>1. Install Android Studio</h3>
      <p>Android Studio is required to run Android emulators:</p>
      <ol class="steps">
        <li>Download Android Studio from <a href="https://developer.android.com/studio" target="_blank">developer.android.com/studio</a></li>
        <li>Install Android Studio following the installation wizard</li>
        <li>During setup, ensure you install:
          <ul>
            <li>Android SDK</li>
            <li>Android SDK Platform</li>
            <li>Android Virtual Device</li>
          </ul>
        </li>
      </ol>
    </div>

    <div class="card">
      <h3>2. Create an Android Virtual Device (AVD)</h3>
      <p>You need at least one virtual device to run the emulator:</p>
      <ol class="steps">
        <li>Open Android Studio</li>
        <li>Click on "More Actions" or go to Tools → AVD Manager</li>
        <li>Click "Create Virtual Device"</li>
        <li>Select a phone definition (e.g., Pixel 6)</li>
        <li>Select a system image (e.g., API 33 - Android 13)</li>
        <li>Complete the wizard to create the AVD</li>
      </ol>
    </div>

    <div class="card">
      <h3>3. Set Environment Variables</h3>
      <p>Add Android SDK to your PATH:</p>
      <pre>export ANDROID_HOME=$HOME/Library/Android/sdk
export PATH=$PATH:$ANDROID_HOME/emulator
export PATH=$PATH:$ANDROID_HOME/tools
export PATH=$PATH:$ANDROID_HOME/tools/bin
export PATH=$PATH:$ANDROID_HOME/platform-tools</pre>
      <p>Add these to your <code>~/.zshrc</code> or <code>~/.bash_profile</code> file for permanent setup.</p>
      <a href="#" class="button" onclick="copyToClipboard('export ANDROID_HOME=$HOME/Library/Android/sdk\nexport PATH=$PATH:$ANDROID_HOME/emulator\nexport PATH=$PATH:$ANDROID_HOME/tools\nexport PATH=$PATH:$ANDROID_HOME/tools/bin\nexport PATH=$PATH:$ANDROID_HOME/platform-tools'); return false;">Copy Variables</a>
    </div>

    <div class="card">
      <h3>4. Start an Emulator</h3>
      <p>Start an emulator from the command line:</p>
      <pre>~/Library/Android/sdk/emulator/emulator -list-avds
~/Library/Android/sdk/emulator/emulator -avd [AVD_NAME]</pre>
      <p>Replace [AVD_NAME] with the name of your AVD from the first command.</p>
    </div>

    <div class="card">
      <h3>5. Start Your Expo App</h3>
      <p>Once your emulator is running:</p>
      <pre>npx expo start</pre>
      <p>Then press 'a' to run on the Android emulator.</p>
      <a href="#" class="button" onclick="copyToClipboard('npx expo start'); return false;">Copy Command</a>
    </div>

    <h2>Troubleshooting</h2>

    <div class="card">
      <h3>Emulator is running but Expo can't find it</h3>
      <p>Try these commands:</p>
      <pre>adb kill-server
adb start-server
adb devices</pre>
      <p>You should see your emulator in the device list.</p>
    </div>

    <div class="card">
      <h3>Unable to locate adb</h3>
      <p>Make sure the Android SDK platform-tools are in your PATH:</p>
      <pre>export PATH=$PATH:$HOME/Library/Android/sdk/platform-tools</pre>
    </div>

    <div class="card">
      <h3>Emulator is slow to start</h3>
      <p>Consider using a hardware accelerated emulator:</p>
      <ul>
        <li>In AVD Manager, edit your virtual device</li>
        <li>Under Emulated Performance, select "Hardware - GLES 2.0"</li>
        <li>Enable "Use Host GPU"</li>
      </ul>
    </div>

    <div class="success">
      <p>For a complete guide to mobile testing with the NetworkFounderApp, see the <a href="MOBILE_TESTING_GUIDE.md">Mobile Testing Guide</a>.</p>
    </div>

    <p><a href="index.html">← Back to main page</a></p>
  </div>

  <script>
    function copyToClipboard(text) {
      const textarea = document.createElement('textarea');
      textarea.value = text;
      document.body.appendChild(textarea);
      textarea.select();
      document.execCommand('copy');
      document.body.removeChild(textarea);
      alert('Copied to clipboard!');
    }
  </script>
</body>
</html>

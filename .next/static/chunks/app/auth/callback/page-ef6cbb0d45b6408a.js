(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[453],{4112:function(e,t,r){Promise.resolve().then(r.bind(r,8553))},8553:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return AuthCallback}});var s=r(7437),n=r(2265),a=r(4033),o=r(7823);function AuthCallback(){let e=(0,a.useRouter)(),[t,r]=(0,n.useState)("loading"),[i,c]=(0,n.useState)(""),l=(0,o.Z)();return(0,n.useEffect)(()=>{let handleAuthCallback=async()=>{try{let t=new URLSearchParams(window.location.hash.substring(1)),s=t.get("access_token"),n=t.get("refresh_token");if(s&&n){let{data:t,error:a}=await l.auth.setSession({access_token:s,refresh_token:n});if(a)throw a;t.user&&(r("success"),c("Email confirmed successfully! Redirecting to dashboard..."),setTimeout(()=>{e.push("/dashboard")},2e3))}else{let{data:t,error:s}=await l.auth.getSession();if(s)throw s;if(t.session)r("success"),c("Already logged in! Redirecting to dashboard..."),setTimeout(()=>{e.push("/dashboard")},1e3);else throw Error("No authentication tokens found")}}catch(e){console.error("Auth callback error:",e),r("error"),c(e instanceof Error?e.message:"Authentication failed")}};handleAuthCallback()},[e,l.auth]),(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,s.jsxs)("div",{className:"max-w-md w-full space-y-8 text-center",children:[(0,s.jsx)("div",{children:(0,s.jsxs)("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:["loading"===t&&"Confirming your email...","success"===t&&"Email Confirmed!","error"===t&&"Confirmation Failed"]})}),(0,s.jsxs)("div",{className:"mt-4",children:["loading"===t&&(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"})}),"success"===t&&(0,s.jsx)("div",{className:"rounded-md bg-green-50 p-4",children:(0,s.jsx)("div",{className:"text-sm text-green-700",children:i})}),"error"===t&&(0,s.jsxs)("div",{className:"rounded-md bg-red-50 p-4",children:[(0,s.jsx)("div",{className:"text-sm text-red-700",children:i}),(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsx)("button",{onClick:()=>e.push("/login"),className:"text-blue-600 hover:text-blue-500 underline",children:"Go to Login"})})]})]})]})})}},7823:function(e,t,r){"use strict";var s=r(3082);t.Z=()=>(0,s.createClientComponentClient)()},622:function(e,t,r){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s=r(2265),n=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,i=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function q(e,t,r){var s,a={},l=null,u=null;for(s in void 0!==r&&(l=""+r),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,s)&&!c.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps)void 0===a[s]&&(a[s]=t[s]);return{$$typeof:n,type:e,key:l,ref:u,props:a,_owner:i.current}}t.Fragment=a,t.jsx=q,t.jsxs=q},7437:function(e,t,r){"use strict";e.exports=r(622)},4033:function(e,t,r){e.exports=r(94)}},function(e){e.O(0,[82,971,472,744],function(){return e(e.s=4112)}),_N_E=e.O()}]);
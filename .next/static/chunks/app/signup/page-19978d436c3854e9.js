(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[966],{6699:function(e,t,l){Promise.resolve().then(l.bind(l,6878))},6878:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return SignUpPage}});var a=l(7437),i=l(2265),n=l(4033),r=l(1396),s=l.n(r),o=l(7823);function SignUpPage(){let[e,t]=(0,i.useState)({email:"",password:"",fullName:"",preferredName:"",role:"member",city:"",niche:"",linkedinUrl:"",websiteUrl:""}),[l,r]=(0,i.useState)(null),[c,d]=(0,i.useState)(!1),[u,m]=(0,i.useState)(!1),h=(0,n.useRouter)(),x=(0,o.Z)(),handleSubmit=async t=>{t.preventDefault(),r(null),d(!0);try{let{data:t,error:l}=await x.auth.signUp({email:e.email,password:e.password,options:{data:{full_name:e.fullName,preferred_name:e.preferredName,role:e.role,city:e.city,niche:e.niche,linkedin_url:e.linkedinUrl,website_url:e.websiteUrl},emailRedirectTo:"".concat(window.location.origin,"/auth/callback")}});if(l)throw l;if(t.user){try{let{error:l}=await x.from("users").insert([{id:t.user.id,email:e.email,full_name:e.fullName,preferred_name:e.preferredName,role:e.role,city:e.city,niche:e.niche,linkedin_url:e.linkedinUrl,website_url:e.websiteUrl}]);l&&console.warn("Could not create user profile:",l.message)}catch(e){console.warn("User profile creation failed:",e)}t.user&&!t.session?(r("Account created successfully! Please check your email to verify your account. The confirmation link will redirect you back to this app."),m(!0)):t.session?(r("Account created successfully! Redirecting to dashboard..."),setTimeout(()=>{h.push("/dashboard")},2e3)):r("Account created successfully!")}}catch(e){r(e instanceof Error?e.message:"An error occurred")}finally{d(!1)}},handleInputChange=e=>{let{name:l,value:a}=e.target;t(e=>({...e,[l]:a}))},handleDevBypass=async()=>{d(!0);try{let t=await fetch("/api/admin/confirm-user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.email})}),l=await t.json();if(!t.ok)throw Error(l.error||"Failed to confirm user");let{error:a}=await x.auth.signInWithPassword({email:e.email,password:e.password});a?r("Email confirmed but login failed. Please try logging in manually."):(r("Development bypass successful! Redirecting to dashboard..."),setTimeout(()=>{h.push("/dashboard")},1e3))}catch(e){r("Development bypass failed: ".concat(e instanceof Error?e.message:"Unknown error"))}finally{d(!1)}};return(0,a.jsx)("div",{className:"min-h-screen bg-background gradient-mesh flex items-center justify-center py-8 px-4 safe-area-top safe-area-bottom",children:(0,a.jsxs)("div",{className:"relative w-full max-w-sm",children:[(0,a.jsxs)("div",{className:"text-center mb-8 animate-fade-in",children:[(0,a.jsx)("div",{className:"mx-auto w-16 h-16 gradient-hive rounded-hive flex items-center justify-center mb-6 shadow-glow pulse-hive",children:(0,a.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",className:"text-white",children:[(0,a.jsx)("circle",{cx:"10",cy:"10",r:"3",fill:"currentColor"}),(0,a.jsx)("circle",{cx:"22",cy:"10",r:"3",fill:"currentColor"}),(0,a.jsx)("circle",{cx:"16",cy:"22",r:"3",fill:"currentColor"}),(0,a.jsx)("line",{x1:"10",y1:"10",x2:"22",y2:"10",stroke:"currentColor",strokeWidth:"2"}),(0,a.jsx)("line",{x1:"10",y1:"10",x2:"16",y2:"22",stroke:"currentColor",strokeWidth:"2"}),(0,a.jsx)("line",{x1:"22",y1:"10",x2:"16",y2:"22",stroke:"currentColor",strokeWidth:"2"})]})}),(0,a.jsx)("h1",{className:"heading-lg-mobile mb-2 text-text",children:"Join the Network"}),(0,a.jsx)("p",{className:"body-base-mobile text-subtle",children:"Initialize your neural profile"}),(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-2 mt-3",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-accent2 rounded-full pulse-hive"}),(0,a.jsx)("span",{className:"text-xs text-subtle",children:"Network Ready"})]})]}),(0,a.jsxs)("div",{className:"card-mobile border-accent/20 animate-slide-up",children:[(0,a.jsxs)("form",{className:"space-y-5",onSubmit:handleSubmit,children:[l&&(0,a.jsxs)("div",{className:"border rounded-hive px-4 py-3 animate-slide-down ".concat(l.includes("successfully")?"bg-accent2/10 border-accent2/30 text-accent2":"bg-error/10 border-error/30 text-error"),children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),(0,a.jsx)("span",{className:"text-sm",children:l})]}),u&&(0,a.jsxs)("div",{className:"mt-3 space-y-2",children:[(0,a.jsx)("button",{onClick:handleDevBypass,disabled:c,className:"text-sm bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700 disabled:opacity-50 mr-2",children:c?"Bypassing...":"Skip Email Verification (Dev)"}),(0,a.jsx)("button",{onClick:()=>h.push("/dashboard?demo=true"),className:"text-sm bg-green-600 text-white px-3 py-1 rounded hover:bg-green-700",children:"Enter Demo Mode"}),(0,a.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"For development only - bypasses email verification or try demo mode"})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-text mb-2",children:"Neural ID"}),(0,a.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e.email,onChange:handleInputChange,className:"input-field touch-target",placeholder:"Enter your neural identifier"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-text mb-2",children:"Access Key"}),(0,a.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,value:e.password,onChange:handleInputChange,className:"input-field touch-target",placeholder:"Enter your access key"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"fullName",className:"block text-sm font-medium text-text mb-2",children:"Full Name"}),(0,a.jsx)("input",{id:"fullName",name:"fullName",type:"text",required:!0,value:e.fullName,onChange:handleInputChange,className:"input-field touch-target",placeholder:"Enter your full name"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"preferredName",className:"block text-sm font-medium text-text mb-2",children:"Preferred Name"}),(0,a.jsx)("input",{id:"preferredName",name:"preferredName",type:"text",value:e.preferredName,onChange:handleInputChange,className:"input-field touch-target",placeholder:"How you'd like to be called (optional)"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"niche",className:"block text-sm font-medium text-text mb-2",children:"Neural Specialization"}),(0,a.jsxs)("select",{id:"niche",name:"niche",value:e.niche,onChange:handleInputChange,className:"input-field touch-target",required:!0,children:[(0,a.jsx)("option",{value:"",children:"Select your niche"}),(0,a.jsx)("option",{value:"Tech",children:"Technology"}),(0,a.jsx)("option",{value:"Finance",children:"Finance"}),(0,a.jsx)("option",{value:"Healthcare",children:"Healthcare"}),(0,a.jsx)("option",{value:"Education",children:"Education"}),(0,a.jsx)("option",{value:"Marketing",children:"Marketing"}),(0,a.jsx)("option",{value:"Design",children:"Design"}),(0,a.jsx)("option",{value:"Consulting",children:"Consulting"}),(0,a.jsx)("option",{value:"Startup",children:"Startup"}),(0,a.jsx)("option",{value:"Real Estate",children:"Real Estate"}),(0,a.jsx)("option",{value:"Legal",children:"Legal"}),(0,a.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"role",className:"block text-sm font-medium text-text mb-2",children:"Network Role"}),(0,a.jsxs)("select",{id:"role",name:"role",value:e.role,onChange:handleInputChange,className:"input-field touch-target",children:[(0,a.jsx)("option",{value:"member",children:"Member"}),(0,a.jsx)("option",{value:"mentor",children:"Mentor"}),(0,a.jsx)("option",{value:"mentee",children:"Mentee"}),(0,a.jsx)("option",{value:"ambassador",children:"Ambassador"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"city",className:"block text-sm font-medium text-text mb-2",children:"Location Node"}),(0,a.jsx)("input",{id:"city",name:"city",type:"text",required:!0,value:e.city,onChange:handleInputChange,className:"input-field touch-target",placeholder:"Enter your city"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"linkedinUrl",className:"block text-sm font-medium text-text mb-2",children:"LinkedIn Profile"}),(0,a.jsx)("input",{id:"linkedinUrl",name:"linkedinUrl",type:"url",value:e.linkedinUrl,onChange:handleInputChange,className:"input-field touch-target",placeholder:"https://linkedin.com/in/yourname"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"websiteUrl",className:"block text-sm font-medium text-text mb-2",children:"Website (Optional)"}),(0,a.jsx)("input",{id:"websiteUrl",name:"websiteUrl",type:"url",value:e.websiteUrl,onChange:handleInputChange,className:"input-field touch-target",placeholder:"https://yourbusiness.com"})]})]}),(0,a.jsx)("button",{type:"submit",disabled:c,className:"btn-mobile-primary w-full",children:c?(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,a.jsx)("span",{children:"Initializing neural profile..."})]}):(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,a.jsx)("span",{children:"Join Network"}),(0,a.jsx)("div",{className:"w-2 h-2 bg-white rounded-full pulse-hive"})]})})]}),(0,a.jsx)("div",{className:"mt-6 pt-6 border-t border-border text-center",children:(0,a.jsx)(s(),{href:"/login",className:"text-accent hover:text-accent-light font-medium transition-colors duration-300 touch-target inline-block",children:"Already connected? Sign in"})})]})]})})}},7823:function(e,t,l){"use strict";var a=l(3082);t.Z=()=>(0,a.createClientComponentClient)()},4033:function(e,t,l){e.exports=l(94)}},function(e){e.O(0,[82,176,971,472,744],function(){return e(e.s=6699)}),_N_E=e.O()}]);
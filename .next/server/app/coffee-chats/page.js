(()=>{var e={};e.id=271,e.ids=[271],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},74403:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>h,pages:()=>d,routeModule:()=>x,tree:()=>n});var a=s(67096),r=s(16132),i=s(37284),l=s.n(i),c=s(32564),o={};for(let e in c)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>c[e]);s.d(t,o);let n=["",{children:["coffee-chats",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,30399)),"/Users/BrandonChi/Desktop/NETWORK APP/src/app/coffee-chats/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,97244)),"/Users/BrandonChi/Desktop/NETWORK APP/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,25666)),"/Users/BrandonChi/Desktop/NETWORK APP/src/app/not-found.tsx"]}],d=["/Users/BrandonChi/Desktop/NETWORK APP/src/app/coffee-chats/page.tsx"],h="/coffee-chats/page",u={require:s,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/coffee-chats/page",pathname:"/coffee-chats",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:n}})},61340:(e,t,s)=>{Promise.resolve().then(s.bind(s,98587))},98587:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var a=s(30784),r=s(9885),i=s(88106),l=s(43334);let c=(0,i.Q)(()=>{let[e,t]=(0,r.useState)([]),[s,i]=(0,r.useState)([]),[c,o]=(0,r.useState)(!0),[n,d]=(0,r.useState)(!1),[h,u]=(0,r.useState)({city:"",date_available:"",public_visibility:!0}),x=(0,l.createClientComponentClient)(),fetchMyCoffeeChats=async()=>{try{let{data:{session:e}}=await x.auth.getSession();if(!e)return;let{data:s,error:a}=await x.from("coffee_chats").select("*").eq("user_id",e.user.id).order("date_available",{ascending:!0});if(a)throw a;t(s||[])}catch(e){console.error("Error fetching my coffee chats:",e)}},fetchAvailableMatches=async()=>{try{let e=await fetch("/api/coffee-chats/matches");if(e.ok){let t=await e.json();i(t)}}catch(e){console.error("Error fetching available matches:",e)}finally{o(!1)}},createCoffeeChat=async e=>{e.preventDefault();try{let{data:{session:e}}=await x.auth.getSession();if(!e)return;let{error:t}=await x.from("coffee_chats").insert([{...h,user_id:e.user.id}]);if(t)throw t;u({city:"",date_available:"",public_visibility:!0}),d(!1),fetchMyCoffeeChats(),fetchAvailableMatches()}catch(e){console.error("Error creating coffee chat:",e)}},deleteCoffeeChat=async e=>{try{let{error:t}=await x.from("coffee_chats").delete().eq("id",e);if(t)throw t;fetchMyCoffeeChats(),fetchAvailableMatches()}catch(e){console.error("Error deleting coffee chat:",e)}};return((0,r.useEffect)(()=>{fetchMyCoffeeChats(),fetchAvailableMatches()},[]),c)?a.jsx("div",{className:"max-w-6xl mx-auto p-6",children:(0,a.jsxs)("div",{className:"animate-pulse",children:[a.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-6"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsx("div",{className:"space-y-4",children:[1,2].map(e=>a.jsx("div",{className:"h-24 bg-gray-200 rounded"},e))}),a.jsx("div",{className:"space-y-4",children:[1,2].map(e=>a.jsx("div",{className:"h-24 bg-gray-200 rounded"},e))})]})]})}):(0,a.jsxs)("div",{className:"max-w-6xl mx-auto p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Coffee Chats"}),a.jsx("button",{onClick:()=>d(!0),className:"bg-primary text-white px-4 py-2 rounded-md hover:bg-primary-dark transition-colors",children:"Schedule Coffee Chat"})]}),n&&(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Schedule a Coffee Chat"}),(0,a.jsxs)("form",{onSubmit:createCoffeeChat,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx("div",{children:(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:["City *",a.jsx("input",{type:"text",value:h.city,onChange:e=>u({...h,city:e.target.value}),placeholder:"Where are you available?",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary",required:!0})]})}),a.jsx("div",{children:(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:["Available Date *",a.jsx("input",{type:"date",value:h.date_available,onChange:e=>u({...h,date_available:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary",required:!0})]})})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:h.public_visibility,onChange:e=>u({...h,public_visibility:e.target.checked}),className:"h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded"}),a.jsx("label",{className:"ml-2 block text-sm text-gray-700",children:"Make this visible to other members"})]}),(0,a.jsxs)("div",{className:"flex space-x-4",children:[a.jsx("button",{type:"submit",className:"bg-primary text-white px-4 py-2 rounded-md hover:bg-primary-dark transition-colors",children:"Schedule Coffee Chat"}),a.jsx("button",{type:"button",onClick:()=>d(!1),className:"bg-gray-300 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-400 transition-colors",children:"Cancel"})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"☕ My Coffee Chats"}),a.jsx("div",{className:"space-y-4",children:0===e.length?(0,a.jsxs)("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[a.jsx("p",{className:"text-gray-500",children:"No coffee chats scheduled"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Schedule one to meet new people!"})]}):e.map(e=>a.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-semibold",children:e.city}),a.jsx("p",{className:"text-gray-600",children:new Date(e.date_available).toLocaleDateString()}),a.jsx("p",{className:"text-sm text-gray-500",children:e.public_visibility?"Public":"Private"})]}),a.jsx("button",{onClick:()=>deleteCoffeeChat(e.id),className:"text-red-600 hover:text-red-800 text-sm",children:"Cancel"})]})},e.id))})]}),(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"\uD83E\uDD1D Available Matches"}),a.jsx("div",{className:"space-y-4",children:0===s.length?(0,a.jsxs)("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[a.jsx("p",{className:"text-gray-500",children:"No matches available"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Check back later or schedule your own!"})]}):s.map(e=>a.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-semibold",children:e.user?.full_name||"Anonymous"}),a.jsx("p",{className:"text-gray-600",children:e.city}),a.jsx("p",{className:"text-gray-600",children:new Date(e.date_available).toLocaleDateString()}),e.user?.role&&a.jsx("span",{className:"inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded mt-1",children:e.user.role})]}),a.jsx("button",{className:"bg-primary text-white px-3 py-1 rounded text-sm hover:bg-primary-dark transition-colors",children:"Connect"})]})},e.id))})]})]}),(0,a.jsxs)("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"How Coffee Chats Work"}),(0,a.jsxs)("ul",{className:"text-blue-800 text-sm space-y-1",children:[a.jsx("li",{children:"• Schedule when and where you're available for coffee"}),a.jsx("li",{children:"• See other members who are available in your city"}),a.jsx("li",{children:"• Connect with people to expand your network"}),a.jsx("li",{children:"• Make your availability public or keep it private"})]})]})]})})},88106:(e,t,s)=>{"use strict";s.d(t,{Q:()=>withAuth});var a=s(30784),r=s(43334),i=s(57114),l=s(9885);function withAuth(e){return function(t){let s=(0,r.createClientComponentClient)(),c=(0,i.useRouter)();return(0,l.useEffect)(()=>{let checkAuth=async()=>{let{data:{session:e}}=await s.auth.getSession();e||c.replace("/login")};checkAuth()},[c,s.auth]),a.jsx(e,{...t})}}},30399:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>l,__esModule:()=>i,default:()=>o});var a=s(95153);let r=(0,a.createProxy)(String.raw`/Users/BrandonChi/Desktop/NETWORK APP/src/app/coffee-chats/page.tsx`),{__esModule:i,$$typeof:l}=r,c=r.default,o=c}};var t=require("../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),s=t.X(0,[657,447,837],()=>__webpack_exec__(74403));module.exports=s})();
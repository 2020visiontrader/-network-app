(()=>{var e={};e.id=329,e.ids=[329],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},62229:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>d,routeModule:()=>h,tree:()=>o});var a=s(67096),r=s(16132),i=s(37284),n=s.n(i),l=s(32564),c={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);s.d(t,c);let o=["",{children:["calendar",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,1046)),"/Users/BrandonChi/Desktop/NETWORK APP/src/app/calendar/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,97244)),"/Users/BrandonChi/Desktop/NETWORK APP/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,25666)),"/Users/BrandonChi/Desktop/NETWORK APP/src/app/not-found.tsx"]}],d=["/Users/BrandonChi/Desktop/NETWORK APP/src/app/calendar/page.tsx"],u="/calendar/page",x={require:s,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/calendar/page",pathname:"/calendar",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},70373:(e,t,s)=>{Promise.resolve().then(s.bind(s,61688))},61688:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>CalendarPage});var a=s(30784),r=s(9885),i=s(43334),n=s(86918),l=s(59),c=s(11642);function CalendarPage(){let{user:e}=(0,n.useAuth)(),[t,s]=(0,r.useState)([]),[o,d]=(0,r.useState)(!0),[u,x]=(0,r.useState)(null),[h,m]=(0,r.useState)(new Date),[p,g]=(0,r.useState)(null),[v,f]=(0,r.useState)([]),b=(0,i.createClientComponentClient)();(0,r.useEffect)(()=>{fetchCalendarEvents()},[e,h]);let fetchCalendarEvents=async()=>{if(e)try{d(!0),x(null);let t=new Date(h.getFullYear(),h.getMonth(),1),a=new Date(h.getFullYear(),h.getMonth()+1,0),r=t.toISOString().split("T")[0],i=a.toISOString().split("T")[0],n=[],{data:l}=await b.from("contacts").select("id, full_name, birthday").eq("user_id",e.id).not("birthday","is",null);l&&l.forEach(e=>{if(e.birthday){let s=new Date(e.birthday),r=new Date(h.getFullYear(),s.getMonth(),s.getDate());r>=t&&r<=a&&n.push({id:`birthday-${e.id}`,type:"birthday",title:`${e.full_name}'s Birthday`,date:r.toISOString().split("T")[0],icon:"\uD83C\uDF82",details:e})}});let{data:c}=await b.from("travel_checkins").select("*").eq("user_id",e.id).or(`check_in_date.gte.${r},check_out_date.lte.${i}`);c&&c.forEach(e=>{n.push({id:`travel-${e.id}`,type:"travel",title:`Travel to ${e.city}`,date:e.check_in_date,icon:"✈️",details:e})});let{data:o}=await b.from("coffee_chat_availability").select("*").eq("user_id",e.id).gte("available_date",r).lte("available_date",i);o&&o.forEach(e=>{n.push({id:`coffee-${e.id}`,type:"coffee",title:"Coffee Chat Available",date:e.available_date,time:e.time_slot,icon:"☕",details:e})});let{data:u}=await b.from("mastermind_sessions").select("*").contains("attendees",[e.id]).gte("date_time",r).lte("date_time",i);u&&u.forEach(e=>{n.push({id:`mastermind-${e.id}`,type:"mastermind",title:e.title,date:e.date_time.split("T")[0],time:new Date(e.date_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),icon:"\uD83E\uDDE0",details:e})}),s(n)}catch(e){console.error("Error fetching calendar events:",e),x("Failed to load calendar events")}finally{d(!1)}},getEventsForDate=e=>{let s=new Date(h.getFullYear(),h.getMonth(),e).toISOString().split("T")[0];return t.filter(e=>e.date===s)},handleDateClick=e=>{let t=new Date(h.getFullYear(),h.getMonth(),e).toISOString().split("T")[0],s=getEventsForDate(e);g(t),f(s)},navigateMonth=e=>{m(t=>{let s=new Date(t);return"prev"===e?s.setMonth(t.getMonth()-1):s.setMonth(t.getMonth()+1),s})};return o?a.jsx(l.Z,{fullScreen:!0,message:"Synchronizing temporal matrix..."}):a.jsx(c.Z,{children:(0,a.jsxs)("div",{className:"space-y-6 gradient-mesh min-h-screen",children:[(0,a.jsxs)("div",{className:"card-mobile border-accent/20",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 gradient-hive rounded-hive flex items-center justify-center shadow-glow",children:a.jsx("span",{className:"text-white text-lg",children:"\uD83D\uDCC5"})}),(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"heading-lg-mobile text-text",children:"Temporal Matrix"}),a.jsx("p",{className:"text-xs text-subtle",children:"Unified event synchronization"})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-accent2 rounded-full pulse-hive"}),(0,a.jsxs)("span",{className:"text-xs text-subtle",children:[t.length," events"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("button",{onClick:()=>navigateMonth("prev"),className:"p-2 rounded-hive hover:bg-surface/50 transition-colors duration-200",children:a.jsx("svg",{className:"w-4 h-4 text-subtle",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,a.jsxs)("h2",{className:"heading-md-mobile text-text",children:[["January","February","March","April","May","June","July","August","September","October","November","December"][h.getMonth()]," ",h.getFullYear()]}),a.jsx("button",{onClick:()=>navigateMonth("next"),className:"p-2 rounded-hive hover:bg-surface/50 transition-colors duration-200",children:a.jsx("svg",{className:"w-4 h-4 text-subtle",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]}),u&&a.jsx("div",{className:"card-mobile border-error/30 bg-surface/90",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx("svg",{className:"w-4 h-4 text-error",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),a.jsx("span",{className:"text-sm text-error",children:u})]})}),(0,a.jsxs)("div",{className:"card-mobile",children:[a.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>a.jsx("div",{className:"text-center text-xs font-medium text-subtle py-2",children:e},e))}),a.jsx("div",{className:"grid grid-cols-7 gap-1",children:(()=>{let e=h.getFullYear(),t=h.getMonth(),s=new Date(e,t,1),a=new Date(e,t+1,0),r=a.getDate(),i=s.getDay(),n=[];for(let e=0;e<i;e++)n.push(null);for(let e=1;e<=r;e++)n.push(e);return n})().map((e,t)=>{if(null===e)return a.jsx("div",{className:"h-12"},t);let s=getEventsForDate(e),r=new Date().toDateString()===new Date(h.getFullYear(),h.getMonth(),e).toDateString();return a.jsx("button",{onClick:()=>handleDateClick(e),className:`h-12 p-1 rounded-hive text-xs transition-all duration-200 ${r?"bg-accent/20 text-accent border border-accent/30":"hover:bg-surface/50 text-text"}`,children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"font-medium",children:e}),(0,a.jsxs)("div",{className:"flex justify-center space-x-1 mt-1",children:[s.slice(0,3).map((e,t)=>a.jsx("span",{className:"text-xs",children:e.icon},t)),s.length>3&&a.jsx("span",{className:"text-xs text-accent",children:"+"})]})]})},e)})})]}),p&&v.length>0&&(0,a.jsxs)("div",{className:"card-mobile border-accent/30 animate-slide-down",children:[(0,a.jsxs)("h3",{className:"heading-md-mobile text-text mb-4",children:["Events for ",new Date(p).toLocaleDateString()]}),a.jsx("div",{className:"space-y-3",children:v.map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-3 p-2 rounded-hive bg-surface/50",children:[a.jsx("span",{className:"text-lg",children:e.icon}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium text-text text-sm",children:e.title}),e.time&&a.jsx("div",{className:"text-xs text-subtle",children:e.time})]})]},e.id))})]})]})})}},1046:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>i,default:()=>c});var a=s(95153);let r=(0,a.createProxy)(String.raw`/Users/BrandonChi/Desktop/NETWORK APP/src/app/calendar/page.tsx`),{__esModule:i,$$typeof:n}=r,l=r.default,c=l}};var t=require("../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),s=t.X(0,[657,447,837,59],()=>__webpack_exec__(62229));module.exports=s})();
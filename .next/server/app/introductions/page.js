(()=>{var e={};e.id=764,e.ids=[764],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},40761:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>l,routeModule:()=>m,tree:()=>d});var s=r(67096),n=r(16132),i=r(37284),a=r.n(i),c=r(32564),o={};for(let e in c)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>c[e]);r.d(t,o);let d=["",{children:["introductions",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,23565)),"/Users/BrandonChi/Desktop/NETWORK APP/src/app/introductions/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,97244)),"/Users/BrandonChi/Desktop/NETWORK APP/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,25666)),"/Users/BrandonChi/Desktop/NETWORK APP/src/app/not-found.tsx"]}],l=["/Users/BrandonChi/Desktop/NETWORK APP/src/app/introductions/page.tsx"],u="/introductions/page",x={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/introductions/page",pathname:"/introductions",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},51949:(e,t,r)=>{Promise.resolve().then(r.bind(r,58086))},58086:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>IntroductionsPage});var s=r(30784),n=r(9885),i=r(43334),a=r(86918),c=r(59),o=r(11642),d=r(83722);let l=(0,d.OC)("AI_SMART_INTRODUCTIONS");function IntroductionsPage(){let{user:e}=(0,a.useAuth)(),[t,r]=(0,n.useState)([]),[d,u]=(0,n.useState)([]),[x,m]=(0,n.useState)(!0),[h,p]=(0,n.useState)(null),[g,f]=(0,n.useState)("pending"),_=(0,i.createClientComponentClient)();(0,n.useEffect)(()=>{e&&fetchIntroductions()},[e]);let fetchIntroductions=async()=>{try{m(!0),p(null);let{data:t,error:s}=await _.from("smart_introductions").select(`
          *,
          user_1:user_1_id (
            id,
            full_name,
            preferred_name,
            role,
            city,
            niche,
            linkedin_url
          ),
          user_2:user_2_id (
            id,
            full_name,
            preferred_name,
            role,
            city,
            niche,
            linkedin_url
          )
        `).or(`user_1_id.eq.${e?.id},user_2_id.eq.${e?.id}`).eq("status","pending").order("created_at",{ascending:!1});if(s)throw s;let{data:n,error:i}=await _.from("smart_introductions").select(`
          *,
          user_1:user_1_id (
            id,
            full_name,
            preferred_name,
            role,
            city,
            niche,
            linkedin_url
          ),
          user_2:user_2_id (
            id,
            full_name,
            preferred_name,
            role,
            city,
            niche,
            linkedin_url
          )
        `).or(`user_1_id.eq.${e?.id},user_2_id.eq.${e?.id}`).eq("status","accepted").order("created_at",{ascending:!1});if(i)throw i;r(t||[]),u(n||[])}catch(e){console.error("Error fetching introductions:",e),p("Failed to load smart introductions")}finally{m(!1)}},handleIntroductionAction=async(e,t)=>{try{let{error:r}=await _.from("smart_introductions").update({status:t}).eq("id",e);if(r)throw r;fetchIntroductions()}catch(e){console.error("Error updating introduction:",e),p("Failed to update introduction")}},generateSmartIntroductions=async()=>{if(!l){p("AI matching is currently disabled. This feature is coming soon!");return}try{m(!0);let{data:t,error:r}=await _.from("users").select("id, full_name, preferred_name, role, city, niche").neq("id",e?.id);if(r)throw r;let{data:s,error:n}=await _.from("users").select("city, niche, role").eq("id",e?.id).single();if(n)throw n;let i=t?.filter(e=>e.city===s.city&&e.niche===s.niche||e.city===s.city&&("mentor"===s.role&&"mentee"===e.role||"mentee"===s.role&&"mentor"===e.role))||[];for(let t of i.slice(0,3)){let r=t.city===s.city&&t.niche===s.niche?`Both in ${t.niche} & ${t.city}`:`${"mentor"===s.role?"Mentor":"Mentee"} match in ${t.city}`,{data:n}=await _.from("smart_introductions").select("id").or(`and(user_1_id.eq.${e?.id},user_2_id.eq.${t.id}),and(user_1_id.eq.${t.id},user_2_id.eq.${e?.id})`).single();n||await _.from("smart_introductions").insert({suggested_by:"system",user_1_id:e?.id,user_2_id:t.id,reason:r,status:"pending"})}fetchIntroductions()}catch(e){console.error("Error generating introductions:",e),p("Failed to generate smart introductions")}finally{m(!1)}};return x&&0===t.length&&0===d.length?s.jsx(c.Z,{fullScreen:!0,message:"Analyzing neural connections..."}):s.jsx(o.Z,{children:(0,s.jsxs)("div",{className:"space-y-6 gradient-mesh min-h-screen",children:[(0,s.jsxs)("div",{className:"card-mobile border-accent/20",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 gradient-neural rounded-hive flex items-center justify-center shadow-glow",children:s.jsx("span",{className:"text-white text-lg",children:"\uD83E\uDD16"})}),(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"heading-lg-mobile text-text",children:"Smart Connections"}),s.jsx("p",{className:"text-xs text-subtle",children:"AI-powered introduction matching"})]})]}),s.jsx("button",{onClick:generateSmartIntroductions,disabled:x,className:"btn-mobile-primary text-sm px-4 py-2",children:x?"Analyzing...":"Generate Matches"})]}),(0,s.jsxs)("div",{className:"flex space-x-1",children:[(0,s.jsxs)("button",{onClick:()=>f("pending"),className:`flex-1 py-2 px-3 rounded-hive text-sm font-medium transition-all duration-200 ${"pending"===g?"bg-accent text-white shadow-glow":"text-subtle hover:text-text hover:bg-surface/50"}`,children:["\uD83E\uDD16 Suggested (",t.length,")"]}),(0,s.jsxs)("button",{onClick:()=>f("accepted"),className:`flex-1 py-2 px-3 rounded-hive text-sm font-medium transition-all duration-200 ${"accepted"===g?"bg-accent text-white shadow-glow":"text-subtle hover:text-text hover:bg-surface/50"}`,children:["✅ Connected (",d.length,")"]})]})]}),h&&s.jsx("div",{className:"card-mobile border-error/30 bg-surface/90",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx("svg",{className:"w-4 h-4 text-error",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),s.jsx("span",{className:"text-sm text-error",children:h})]})}),s.jsx("div",{className:"space-y-4",children:"pending"===g?0===t.length?(0,s.jsxs)("div",{className:"card-mobile text-center py-8",children:[s.jsx("div",{className:"w-12 h-12 bg-accent/20 rounded-hive flex items-center justify-center mx-auto mb-4",children:s.jsx("span",{className:"text-2xl",children:"\uD83E\uDD16"})}),s.jsx("h3",{className:"heading-md-mobile text-text mb-2",children:l?"No Pending Connections":"Smart Matching Coming Soon"}),s.jsx("p",{className:"text-sm text-subtle mb-4",children:l?"AI is analyzing your network for potential matches.":"AI-powered introduction matching is currently in development. This feature will intelligently suggest connections based on shared interests, location, and professional goals."}),s.jsx("button",{onClick:generateSmartIntroductions,disabled:!l,className:`text-sm px-4 py-2 ${l?"btn-mobile-primary":"bg-border text-subtle cursor-not-allowed rounded-hive"}`,children:l?"Generate Smart Matches":"Feature Coming Soon"})]}):t.map(t=>s.jsx(IntroductionCard,{introduction:t,currentUserId:e?.id,onAction:handleIntroductionAction,isPending:!0},t.id)):0===d.length?(0,s.jsxs)("div",{className:"card-mobile text-center py-8",children:[s.jsx("div",{className:"w-12 h-12 bg-accent2/20 rounded-hive flex items-center justify-center mx-auto mb-4",children:s.jsx("span",{className:"text-2xl",children:"✅"})}),s.jsx("h3",{className:"heading-md-mobile text-text mb-2",children:"No Connections Yet"}),s.jsx("p",{className:"text-sm text-subtle",children:"Accepted introductions will appear here."})]}):d.map(t=>s.jsx(IntroductionCard,{introduction:t,currentUserId:e?.id,onAction:handleIntroductionAction,isPending:!1},t.id))})]})})}let IntroductionCard=({introduction:e,currentUserId:t,onAction:r,isPending:n})=>{let i=e.user_1_id===t?e.user_2:e.user_1;return(0,s.jsxs)("div",{className:"card-mobile border-accent/20 hover:border-accent/40 transition-all duration-300",children:[s.jsx("div",{className:"flex items-start justify-between mb-3",children:(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx("div",{className:"w-8 h-8 bg-accent/20 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-accent text-sm",children:"\uD83D\uDC64"})}),(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"font-semibold text-text text-sm",children:i?.preferred_name||i?.full_name}),(0,s.jsxs)("p",{className:"text-xs text-subtle",children:[i?.role," • ",i?.city]})]})]}),(0,s.jsxs)("div",{className:"bg-surface/50 rounded-hive p-3 mb-3",children:[s.jsx("p",{className:"text-xs text-subtle mb-1",children:"Match Reason:"}),s.jsx("p",{className:"text-sm text-text",children:e.reason})]}),i?.niche&&(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-xs bg-accent2/20 text-accent2 px-2 py-1 rounded-hive",children:i.niche}),i.linkedin_url&&s.jsx("a",{href:i.linkedin_url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-accent hover:text-accent-light",children:"LinkedIn"})]})]})}),n&&(0,s.jsxs)("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>r(e.id,"accepted"),className:"flex-1 bg-accent2/20 text-accent2 hover:bg-accent2/30 px-3 py-2 rounded-hive text-xs font-medium transition-colors duration-200",children:"Accept Connection"}),s.jsx("button",{onClick:()=>r(e.id,"ignored"),className:"flex-1 bg-border text-subtle hover:bg-border/80 px-3 py-2 rounded-hive text-xs font-medium transition-colors duration-200",children:"Ignore"})]}),!n&&s.jsx("div",{className:"text-center",children:s.jsx("span",{className:"text-xs bg-accent2/20 text-accent2 px-3 py-1 rounded-hive",children:"✅ Connected"})})]})}},23565:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>a,__esModule:()=>i,default:()=>o});var s=r(95153);let n=(0,s.createProxy)(String.raw`/Users/BrandonChi/Desktop/NETWORK APP/src/app/introductions/page.tsx`),{__esModule:i,$$typeof:a}=n,c=n.default,o=c}};var t=require("../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[657,447,837,59,722],()=>__webpack_exec__(40761));module.exports=r})();
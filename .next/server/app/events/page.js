(()=>{var e={};e.id=38,e.ids=[38],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},40103:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>d,routeModule:()=>h,tree:()=>o});var r=s(67096),n=s(16132),a=s(37284),i=s.n(a),l=s(32564),c={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);s.d(t,c);let o=["",{children:["events",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,53065)),"/Users/BrandonChi/Desktop/NETWORK APP/src/app/events/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,97244)),"/Users/BrandonChi/Desktop/NETWORK APP/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,25666)),"/Users/BrandonChi/Desktop/NETWORK APP/src/app/not-found.tsx"]}],d=["/Users/BrandonChi/Desktop/NETWORK APP/src/app/events/page.tsx"],x="/events/page",u={require:s,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/events/page",pathname:"/events",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},64739:(e,t,s)=>{Promise.resolve().then(s.bind(s,69957))},69957:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>EventsPage});var r=s(30784),n=s(9885),a=s(43334),i=s(86918),l=s(59),c=s(11642);function EventsPage(){let{user:e}=(0,i.useAuth)(),[t,s]=(0,n.useState)([]),[o,d]=(0,n.useState)([]),[x,u]=(0,n.useState)(!0),[h,p]=(0,n.useState)(null),[m,v]=(0,n.useState)("local"),[g,f]=(0,n.useState)(""),b=(0,a.createClientComponentClient)();(0,n.useEffect)(()=>{fetchEvents()},[e]);let fetchEvents=async()=>{if(e)try{u(!0),p(null);let{data:t}=await b.from("users").select("city, niche_tags").eq("id",e.id).single();if(!t)throw Error("User data not found");let{data:r,error:n}=await b.from("event_suggestions").select("*").eq("city",t.city).gte("event_date",new Date().toISOString().split("T")[0]).order("event_date",{ascending:!0});if(n)throw n;let{data:a,error:i}=await b.from("travel_checkins").select("city, check_in_date, check_out_date").eq("user_id",e.id).gte("check_in_date",new Date().toISOString().split("T")[0]);if(i)throw i;let l=[];if(a&&a.length>0){let e=a.map(e=>e.city),{data:t,error:s}=await b.from("event_suggestions").select("*").in("city",e).gte("event_date",new Date().toISOString().split("T")[0]).order("event_date",{ascending:!0});if(s)throw s;l=t||[]}s(r||[]),d(l)}catch(e){console.error("Error fetching events:",e),p("Failed to load event suggestions")}finally{u(!1)}},j=t.filter(e=>!g||e.niche_tag.toLowerCase().includes(g.toLowerCase())),_=o.filter(e=>!g||e.niche_tag.toLowerCase().includes(g.toLowerCase())),N="local"===m?j:_;return x?r.jsx(l.Z,{fullScreen:!0,message:"Scanning neural event matrix..."}):r.jsx(c.Z,{children:(0,r.jsxs)("div",{className:"space-y-6 gradient-mesh min-h-screen",children:[(0,r.jsxs)("div",{className:"card-mobile border-accent/20",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-8 h-8 gradient-connection rounded-hive flex items-center justify-center shadow-glow-accent2",children:r.jsx("span",{className:"text-white text-lg",children:"\uD83C\uDF10"})}),(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"heading-lg-mobile text-text",children:"Event Matrix"}),r.jsx("p",{className:"text-xs text-subtle",children:"Discover connections in your network"})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-2 h-2 bg-accent2 rounded-full pulse-hive"}),(0,r.jsxs)("span",{className:"text-xs text-subtle",children:[N.length," signals"]})]})]}),(0,r.jsxs)("div",{className:"flex space-x-1 mb-4",children:[r.jsx("button",{onClick:()=>v("local"),className:`flex-1 py-2 px-3 rounded-hive text-sm font-medium transition-all duration-200 ${"local"===m?"bg-accent text-white shadow-glow":"text-subtle hover:text-text hover:bg-surface/50"}`,children:"\uD83D\uDCCD Local Matrix"}),r.jsx("button",{onClick:()=>v("travel"),className:`flex-1 py-2 px-3 rounded-hive text-sm font-medium transition-all duration-200 ${"travel"===m?"bg-accent text-white shadow-glow":"text-subtle hover:text-text hover:bg-surface/50"}`,children:"✈️ Travel Signals"})]}),r.jsx("input",{type:"text",placeholder:"Filter by niche tag...",value:g,onChange:e=>f(e.target.value),className:"input-field text-sm"})]}),h&&r.jsx("div",{className:"card-mobile border-error/30 bg-surface/90",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx("svg",{className:"w-4 h-4 text-error",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),r.jsx("span",{className:"text-sm text-error",children:h})]})}),r.jsx("div",{className:"space-y-4",children:0===N.length?(0,r.jsxs)("div",{className:"card-mobile text-center py-8",children:[r.jsx("div",{className:"w-12 h-12 bg-accent2/20 rounded-hive flex items-center justify-center mx-auto mb-4",children:r.jsx("span",{className:"text-2xl",children:"\uD83C\uDF10"})}),r.jsx("h3",{className:"heading-md-mobile text-text mb-2",children:"No Events Detected"}),r.jsx("p",{className:"text-sm text-subtle",children:"local"===m?"No events found in your local matrix.":"No events found for your travel destinations."})]}):N.map(e=>r.jsx(EventCard,{event:e},e.id))})]})})}let EventCard=({event:e})=>(0,r.jsxs)("div",{className:"card-mobile border-accent2/20 hover:border-accent2/40 transition-all duration-300",children:[r.jsx("div",{className:"flex items-start justify-between mb-3",children:(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[r.jsx("h3",{className:"font-semibold text-text text-sm",children:e.title}),r.jsx("span",{className:"text-xs bg-accent2/20 text-accent2 px-2 py-1 rounded-hive",children:e.niche_tag})]}),r.jsx("p",{className:"text-xs text-subtle line-clamp-3 mb-2",children:e.description})]})}),r.jsx("div",{className:"flex items-center justify-between text-xs text-subtle mb-3",children:(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[r.jsx("span",{children:"\uD83D\uDCC5"}),r.jsx("span",{children:(e=>{let t=new Date(e);return t.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"})})(e.event_date)})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[r.jsx("span",{children:"\uD83D\uDCCD"}),r.jsx("span",{children:e.city})]})]})}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[e.external_link&&r.jsx("button",{onClick:()=>{e.external_link&&window.open(e.external_link,"_blank","noopener,noreferrer")},className:"flex-1 bg-accent2/20 text-accent2 hover:bg-accent2/30 px-3 py-2 rounded-hive text-xs font-medium transition-colors duration-200",children:"View Event Site"}),r.jsx("button",{className:"flex-1 bg-accent/20 text-accent hover:bg-accent/30 px-3 py-2 rounded-hive text-xs font-medium transition-colors duration-200",children:"Add to Calendar"})]})]})},53065:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>i,__esModule:()=>a,default:()=>c});var r=s(95153);let n=(0,r.createProxy)(String.raw`/Users/BrandonChi/Desktop/NETWORK APP/src/app/events/page.tsx`),{__esModule:a,$$typeof:i}=n,l=n.default,c=l}};var t=require("../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),s=t.X(0,[657,447,837,59],()=>__webpack_exec__(40103));module.exports=s})();
"use strict";exports.id=254,exports.ids=[254],exports.modules={23254:(e,t,r)=>{r.d(t,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var a=r(30784),n=r(9885),i=r(43334);let __WEBPACK_DEFAULT_EXPORT__=({limit:e,showActions:t=!0})=>{let[r,s]=(0,n.useState)([]),d=(0,i.createClientComponentClient)(),getUpcomingBirthdays=async()=>{let{data:{session:t}}=await d.auth.getSession();if(!t)return;let{data:r,error:a}=await d.from("birthday_reminders").select("*, contact:contacts(*)").gte("reminder_date",new Date().toISOString()).order("reminder_date",{ascending:!0}).limit(e||100);if(a){console.error("Error fetching birthday reminders:",a);return}s(r)},acknowledgeReminder=async e=>{let{error:t}=await d.from("birthday_reminders").update({reminder_sent:!0}).eq("id",e);if(t){console.error("Error acknowledging reminder:",t);return}getUpcomingBirthdays()};return(0,n.useEffect)(()=>{getUpcomingBirthdays()},[]),(0,a.jsxs)("div",{className:"space-y-4",children:[r.map(e=>(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-4 flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-medium",children:e.contact.contact_name}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["Birthday: ",new Date(e.reminder_date).toLocaleDateString()]})]}),t&&(0,a.jsxs)("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>window.open("mailto:"+e.contact.email),className:"px-3 py-1 text-sm bg-primary text-white rounded-md hover:bg-primary-dark",children:"Send Message"}),a.jsx("button",{onClick:()=>acknowledgeReminder(e.id),className:"px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200",children:"Mark Done"})]})]},e.id)),0===r.length&&a.jsx("p",{className:"text-gray-500 text-center py-4",children:"No upcoming birthdays"})]})}}};